{"ast":null,"code":"import _slicedToArray from \"/Users/Emily/lighthouse/finalProject/cinema/social-cinema/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/Emily/lighthouse/finalProject/cinema/social-cinema/src/components/Suggested.js\";\nimport React, { useState } from \"react\";\nimport axios from \"axios\"; // import './App.css';\n\nexport default function Suggested(props) {\n  const _useState = useState(\"\"),\n        _useState2 = _slicedToArray(_useState, 2),\n        suggestedMovie = _useState2[0],\n        setSuggestedMovie = _useState2[1];\n\n  const _useState3 = useState(\"hide\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        suggested = _useState4[0],\n        setSuggested = _useState4[1];\n\n  const newMovie = () => {\n    setSuggested(\"waiting\");\n    let group;\n\n    if (props.theme) {\n      group = [];\n    } else {\n      group = props.group;\n    }\n\n    axios.post(\"/suggestion\", {\n      userGenrePreferences: props.userGenres,\n      group,\n      recentSuggestions: props.recentSuggestions,\n      minimumRuntime: props.minimumRuntime,\n      maximumRuntime: props.maximumRuntime\n    }).then(response => {\n      setSuggested(\"show\");\n      setSuggestedMovie({\n        \"title\": response.data.title,\n        \"description\": response.data.description,\n        \"poster\": response.data.poster,\n        \"releaseDate\": response.data.release_date,\n        \"tmdbId\": response.data.tmdb_id,\n        \"imdb_link\": response.data.imdb_link,\n        \"runtime\": response.data.runtime,\n        \"error\": response.data.error,\n        \"rating\": response.data.rating\n      });\n      props.getRecentSuggestions(response.data);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  const saveToLaterList = (userName, suggestedMovie) => {\n    axios.post(\"/api/\".concat(userName, \"/latermovies\"), {\n      suggestedMovie\n    }).then(response => {\n      props.setLaterMovies(response.data.later_movies);\n    }).catch(error => {\n      console.log(error);\n    });\n  };\n\n  let runtime;\n\n  if (suggestedMovie.runtime) {\n    runtime = suggestedMovie.runtime + ' minutes';\n  }\n\n  let error = \"\";\n\n  if (suggestedMovie.error === \"group\") {\n    error = \"As a group, you hate all movie genres. To receive a curated movie suggestion, try setting a theme night. Otherwise, we suggest you watch Bob Ross! No one hates Bob Ross.\";\n  } else if (suggestedMovie.error === \"solo\") {\n    error = \"You currently hate all movie genres. Update your preferences to receive a curated movie suggestion. Otherwise, we suggest you watch Bob Ross! No one hates Bob Ross.\";\n  }\n\n  return React.createElement(\"section\", {\n    className: \"suggested-container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, suggested === \"hide\" && React.createElement(\"section\", {\n    className: \"click-suggest\",\n    onClick: () => {\n      newMovie();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    src: \"images/film-reel.png\",\n    height: \"300px\",\n    alt: \"click to generate a suggestion!\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, props.user.name), React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Click to Generate Your First Movie Suggestion\")), suggested === \"waiting\" && React.createElement(React.Fragment, null, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, \"Looking 4 Ur Movie\"), React.createElement(\"img\", {\n    className: \"spinner\",\n    src: \"images/film-reel.png\",\n    height: \"300px\",\n    alt: \"spinning film wheel\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  })), suggested === \"show\" && React.createElement(React.Fragment, null, React.createElement(\"h5\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, error), React.createElement(\"section\", {\n    className: \"suggestion-all\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(\"header\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    className: \"movie-title\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, suggestedMovie.title)), React.createElement(\"main\", {\n    className: \"suggestion-text\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"img\", {\n    alt: suggestedMovie.title,\n    src: suggestedMovie.poster,\n    className: \"poster\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }), React.createElement(\"article\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, React.createElement(\"h4\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82\n    },\n    __self: this\n  }, suggestedMovie.releaseDate), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, suggestedMovie.description), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, suggestedMovie.rating), React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, runtime), React.createElement(\"a\", {\n    href: suggestedMovie.imdb_link,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, \"Learn more at IMDB\"))), React.createElement(\"footer\", {\n    className: \"suggestion-buttons\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  }, props.user.name && React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => {\n      saveToLaterList(props.user.name, suggestedMovie);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, \"Add This to Later List\"), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: () => newMovie(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  }, \"Suggest a Different Movie\")))));\n}","map":{"version":3,"sources":["/Users/Emily/lighthouse/finalProject/cinema/social-cinema/src/components/Suggested.js"],"names":["React","useState","axios","Suggested","props","suggestedMovie","setSuggestedMovie","suggested","setSuggested","newMovie","group","theme","post","userGenrePreferences","userGenres","recentSuggestions","minimumRuntime","maximumRuntime","then","response","data","title","description","poster","release_date","tmdb_id","imdb_link","runtime","error","rating","getRecentSuggestions","catch","console","log","saveToLaterList","userName","setLaterMovies","later_movies","user","name","releaseDate"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport axios from \"axios\";\n// import './App.css';\n\nexport default function Suggested(props) {\n  const [suggestedMovie, setSuggestedMovie] = useState(\"\");\n  const [suggested, setSuggested] = useState(\"hide\")\n\n  const newMovie = () => {\n    setSuggested(\"waiting\")\n    let group;\n    if (props.theme) {\n      group = [];\n    } else {\n      group = props.group;\n    }\n    axios.post(`/suggestion`, { userGenrePreferences: props.userGenres, group, recentSuggestions: props.recentSuggestions, minimumRuntime: props.minimumRuntime, maximumRuntime: props.maximumRuntime })\n      .then(response => {\n        setSuggested(\"show\")\n        setSuggestedMovie({\n          \"title\": response.data.title,\n          \"description\": response.data.description,\n          \"poster\": response.data.poster,\n          \"releaseDate\": response.data.release_date,\n          \"tmdbId\": response.data.tmdb_id,\n          \"imdb_link\": response.data.imdb_link,\n          \"runtime\" : response.data.runtime,\n          \"error\": response.data.error,\n          \"rating\": response.data.rating\n        });\n        props.getRecentSuggestions(response.data);\n      })\n      .catch(error => {console.log(error)})\n  };\n\n  const saveToLaterList = (userName, suggestedMovie) => {\n    axios.post(`/api/${userName}/latermovies`, { suggestedMovie })\n    .then(response => {\n      props.setLaterMovies(response.data.later_movies)\n    })\n    .catch(error => {console.log(error)})\n  };\n\n  let runtime;\n\n  if (suggestedMovie.runtime) {\n    runtime = suggestedMovie.runtime + ' minutes'\n  }\n\n  let error = \"\"\n  if(suggestedMovie.error === \"group\") {\n    error = \"As a group, you hate all movie genres. To receive a curated movie suggestion, try setting a theme night. Otherwise, we suggest you watch Bob Ross! No one hates Bob Ross.\"\n  } else if(suggestedMovie.error === \"solo\") {\n    error = \"You currently hate all movie genres. Update your preferences to receive a curated movie suggestion. Otherwise, we suggest you watch Bob Ross! No one hates Bob Ross.\"\n  }\n\n  return (\n    <section className=\"suggested-container\">\n      {suggested === \"hide\" &&\n        <section className=\"click-suggest\" onClick={() => {newMovie()}}>\n          <img src=\"images/film-reel.png\" height=\"300px\" alt=\"click to generate a suggestion!\"/>\n          <h1>{props.user.name}</h1>\n          <h1>Click to Generate Your First Movie Suggestion</h1>\n        </section>\n      }\n      {suggested === \"waiting\" &&\n      <>\n        <h1>Looking 4 Ur Movie</h1>\n        <img className=\"spinner\" src=\"images/film-reel.png\" height=\"300px\" alt=\"spinning film wheel\"/>\n      </>\n      }\n      {suggested === \"show\" && \n        <>\n          <h5>{error}</h5>\n          <section className=\"suggestion-all\">\n            <header>\n              <h2 className=\"movie-title\">{suggestedMovie.title}</h2>\n            </header>\n            <main className=\"suggestion-text\">\n              <img alt={suggestedMovie.title} src={suggestedMovie.poster} className=\"poster\"></img>\n              <article>\n                <h4>{suggestedMovie.releaseDate}</h4>\n                <p>{suggestedMovie.description}</p>\n                <p>{suggestedMovie.rating}</p>\n                <p>{runtime}</p>\n                <a href={suggestedMovie.imdb_link} target=\"_blank\" rel=\"noopener noreferrer\">Learn more at IMDB</a>\n              </article>\n            </main>\n            <footer className=\"suggestion-buttons\">\n              {props.user.name && <button type=\"button\" onClick={()=>{saveToLaterList(props.user.name, suggestedMovie)}}>Add This to Later List</button>}\n              <button type=\"button\" onClick={()=>newMovie()}>Suggest a Different Movie</button>\n            </footer>\n          </section>\n        </>\n      }\n    </section>\n  );\n}"]},"metadata":{},"sourceType":"module"}